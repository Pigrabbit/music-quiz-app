{"version":3,"sources":["img/playbutton.svg","img/pauseButton.svg","components/Header.js","components/Category.js","pages/index.jsx","pages/404.jsx","components/AudioPlayer.js","utils/items.js","components/AnswerCard.js","components/TargetBoard.js","components/SourceBoard.js","components/ProblemBox.js","pages/quizTakingPage.jsx","pages/quizEnd.jsx","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","console","log","className","to","pathname","React","Component","QuizCard","state","category","id","this","MainPage","categories","map","idx","key","NotFoundPage","AudioPlayer","videoID","autoplay","loop","player","options","height","width","playerVars","start","end","wmode","origin","controlButton","playButton","audioPlayer","createRef","isPlaying","setState","pauseButton","e","data","toggleControlButton","seekTo","pauseVideo","target","getPlayerState","current","addEventListener","playVideo","ref","src","alt","videoId","host","opts","onReady","onPlayerReady","bind","onStateChange","onPlayerStateChange","ItemTypes","AnswerCard","useState","content","setContent","type","setType","useEffect","useDrag","item","cardType","collect","monitor","isDragging","drag","style","opacity","TargetBoard","useContext","CardContext","chooseAnswer","isCorrectAnswer","cards","setCards","chosenAnswer","setChosenAnswer","handler","incrementProblemIdx","incrementScore","useDrop","accept","drop","hasSubmittedAlready","Error","error","alert","isOver","some","answer","backgroundColor","card","onClick","length","submittedArtist","submittedTrack","forEach","SourceBoard","unchooseAnswer","createContext","ProblemBox","problem","isVisible","setIsVisible","trackOptions","track","status","concat","artistOptions","artist","answerList","setAnswerList","Provider","value","filter","startSeconds","endSeconds","QuizTakingPage","redirect","score","problemIdx","problems","location","fetch","response","json","generateMultipleChoice","p","sort","Math","random","slice","push","fetchMusicProblems","isEnd","numCorrect","numTotal","DndProvider","backend","HTML5Backend","QuizEndPage","App","exact","path","component","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.3d9a457b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/playbutton.75be2c69.svg\";","module.exports = __webpack_public_path__ + \"static/media/pauseButton.e55175de.svg\";","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../Header.css\"\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"header constructed\");\n  }\n\n  render() {\n    return (\n      <header className=\"header\">\n        <Link to={{pathname: \"/\"}} >\n          <button className=\"header__homeBtn\">\n            <p> Back to home </p>\n          </button>\n        </Link>\n        <h3>This is a header</h3>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../Category.css\";\n\nclass QuizCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.category = props.category;\n  }\n\n  state = {};\n\n  render() {\n    return (\n      <article className=\"category\" id={this.state.category}>\n        <h4 className=\"category__container\">{this.state.category}</h4>\n        <Link\n          to={{ pathname: \"/quiz\", state: { category: this.state.category } }}\n        >\n          <button className=\"category__startBtn\">\n            <p>Take Quiz</p>\n          </button>\n        </Link>\n      </article>\n    );\n  }\n}\n\nexport default QuizCard;\n","import React from \"react\";\nimport Header from \"../components/Header.js\";\nimport Category from \"../components/Category.js\";\n\nclass MainPage extends React.Component {\n  // Todo: get Categories from Backend\n  state = {\n    categories: [\"k-pop\"],\n  };\n\n  render() {\n    return (\n      <div className=\"wrapper\">\n        <Header />\n        <section className=\"container\">\n          <h1>FROM JSX</h1>\n          {this.state.categories.map((category, idx) => {\n            return <Category key={idx} category={category} />;\n          })}\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default MainPage;\n","import React from \"react\";\n\nclass NotFoundPage extends React.Component {\n  render() {\n    return (\n      <div className=\"wrapper\">\n        <section className=\"container\">\n          <h1>404 NOT FOUND</h1>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default NotFoundPage;\n","import React from \"react\";\nimport YouTube from \"react-youtube\";\n\nimport playButton from \"../img/playbutton.svg\";\nimport pauseButton from \"../img/pauseButton.svg\";\nimport \"../AudioPlayer.css\";\n\nconst UNSTARTED = -1;\nconst ENDED = 0;\nconst PLAYING = 1;\nconst PAUSED = 2;\nconst BUFFERING = 3;\nconst VIDEO_CUED = 5;\nconst ORIGIN_URL = \"https://pigrabbit.github.io/music-quiz-app/#/quiz\";\nconst YOUTUBE_HOST_URL = \"https://www.youtube.com\";\n\nclass AudioPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.options = {\n        height: \"0\",\n        width: \"0\",\n        playerVars: {\n            autoplay: this.state.autoplay,\n            loop: this.state.loop,\n            start: this.props.start,\n            end: this.props.end,\n            wmode: \"opaque\",\n            origin: ORIGIN_URL,\n        },\n    };\n    this.state.controlButton = playButton;\n    this.state.videoID = this.props.videoID;\n\n    this.audioPlayer = React.createRef();\n  }\n\n  state = {\n    videoID: \"\",\n    autoplay: \"0\",\n    loop: \"1\",\n    player: null,\n  };\n\n\n  toggleControlButton(isPlaying) {;\n    this.setState({ controlButton: isPlaying ? pauseButton : playButton });\n  }\n\n  onPlayerStateChange(e) {\n    if (e.data === ENDED) {\n      this.toggleControlButton(false);\n      this.state.player.seekTo(this.props.start)\n      this.state.player.pauseVideo()\n    }\n  }\n\n  onPlayerReady(e) {\n    this.toggleControlButton(e.target.getPlayerState() !== VIDEO_CUED);\n    this.setState({ player: e.target });\n\n    this.audioPlayer.current.addEventListener(\"click\", () => {\n        if (\n          this.state.player.getPlayerState() === PLAYING ||\n          this.state.player.getPlayerState() === BUFFERING\n        ) {\n          this.state.player.pauseVideo();\n          this.toggleControlButton(false);\n        } else {\n          this.state.player.playVideo();\n          this.toggleControlButton(true);\n        }\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"audio-player\" ref={this.audioPlayer}>\n        <img\n          src={this.state.controlButton}\n          alt=\"control-button\"\n          className=\"audio-player__control-button\"\n        />\n        <YouTube\n          videoId={this.state.videoID}\n          host={YOUTUBE_HOST_URL}\n          opts={this.state.options}\n          onReady={this.onPlayerReady.bind(this)}\n          onStateChange={this.onPlayerStateChange.bind(this)}\n        />\n      </div>\n    );\n  }\n}\n\nexport default AudioPlayer;\n","export const ItemTypes = {\n    CARD: 'card',\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { ItemTypes } from \"../utils/items\";\nimport \"../AnswerCard.css\";\n\nconst AnswerCard = (props) => {\n  const [content, setContent] = useState(props.content);\n  const [type, setType] = useState(props.type);\n  useEffect(() => {\n    setContent(props.content);\n    setType(props.type);\n  }, [props.content, props.type]);\n\n  const [{ isDragging }, drag] = useDrag({\n    item: {\n      type: ItemTypes.CARD,\n      id: props.id,\n      content: props.content,\n      cardType: props.type,\n    },\n    collect: (monitor) => ({\n      isDragging: !!monitor.isDragging(),\n    }),\n  });\n\n  return (\n    <div\n      className={`answer-card-${type}`}\n      id={props.id}\n      ref={drag}\n      style={{ opacity: isDragging ? \"0.5\" : \"1\" }}\n    >\n      <h4>{content}</h4>\n    </div>\n  );\n};\n\nexport default AnswerCard;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { ItemTypes } from \"../utils/items\";\nimport { CardContext } from \"./ProblemBox\";\nimport \"../TargetBoard.css\";\nimport AnswerCard from \"./AnswerCard\";\nimport { ProblemCardContext } from \"../pages/quizTakingPage\";\n\nconst TargetBoard = (props) => {\n  const { chooseAnswer, isCorrectAnswer } = useContext(CardContext);\n  const [cards, setCards] = useState(props.cards);\n  const [chosenAnswer, setChosenAnswer] = useState();\n  const { incrementProblemIdx, incrementScore } = props.handler;\n\n  useEffect(() => {\n    setCards(props.cards);\n    setChosenAnswer(props.cards);\n  }, [props.cards]);\n\n  const [{ isOver }, drop] = useDrop({\n    accept: ItemTypes.CARD,\n    drop: (item, monitor) => {\n      try {\n        if (hasSubmittedAlready(item.cardType)) throw Error();\n      } catch (error) {\n        alert(\"same type submitted\");\n        return;\n      }\n      chooseAnswer(item.id);\n    },\n    collect: (monitor) => ({\n      isOver: !!monitor.isOver(),\n    }),\n  });\n\n  const hasSubmittedAlready = (cardType) => {\n    return chosenAnswer.some((answer) => answer.type === cardType);\n  };\n\n  const handleClick = () => {\n    if (chosenAnswer.length > 2) alert(\"pick a track of an artist\");\n    let submittedArtist = \"\",\n      submittedTrack = \"\";\n    chosenAnswer.forEach((answer) => {\n      if (answer.type === \"track\") submittedTrack = answer.content;\n      if (answer.type === \"artist\") submittedArtist = answer.content;\n    });\n\n    if (isCorrectAnswer(submittedTrack, submittedArtist)) {\n      incrementScore();\n    }\n    incrementProblemIdx();\n  };\n\n  return (\n    <div\n      className=\"target-board\"\n      ref={drop}\n      style={{ backgroundColor: isOver ? \"#26de81\" : \"#d1d8e0\" }}\n    >\n      <h3>Move answer here</h3>\n      {cards.map((card, idx) => {\n        return (\n          <AnswerCard\n            content={card.content}\n            id={card.id}\n            type={card.type}\n            key={idx}\n          />\n        );\n      })}\n      <button className=\"submit\" onClick={handleClick}>\n        submit\n      </button>\n    </div>\n  );\n};\n\nexport default TargetBoard;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { ItemTypes } from \"../utils/items\";\nimport { CardContext } from \"./ProblemBox\";\nimport AnswerCard from \"./AnswerCard\";\n\nconst SourceBoard = (props) => {\n  const { unchooseAnswer } = useContext(CardContext);\n  const [cards, setCards] = useState(props.cards);\n\n  useEffect(() => {\n    setCards(props.cards);\n  }, [props.cards]);\n\n  const [{ isOver }, drop] = useDrop({\n    accept: ItemTypes.CARD,\n    drop: (item, monitor) => {\n      unchooseAnswer(item.id);\n    },\n    collect: (monitor) => ({\n      isOver: !!monitor.isOver(),\n    }),\n  });\n\n  return (\n    <div\n      className=\"source-board\"\n      ref={drop}\n    >\n      <h3>options</h3>\n      {cards.map((card, idx) => {\n        return <AnswerCard content={card.content} id={card.id} type={card.type} key={idx}/>;\n      })}\n    </div>\n  );\n};\n\nexport default SourceBoard;\n","import React, { createContext, useState, useEffect } from \"react\";\nimport AudioPlayer from \"./AudioPlayer\";\nimport TargetBoard from \"./TargetBoard\";\nimport SourceBoard from \"./SourceBoard\";\nimport \"../ProblemBox.css\";\nimport AnswerCard from \"./AnswerCard\";\n\nexport const CardContext = createContext({\n  chooseAnswer: null,\n  unchooseAnswer: null,\n  isCorrectAnswer: null,\n});\n\nconst numChoice = 3;\n\nconst ProblemBox = (props) => {\n  const [problem, setProblem] = useState(props.problem);\n  const [isVisible, setIsVisible] = useState(props.isVisible);\n  useEffect(() => {\n    setIsVisible(props.isVisible);\n  }, [props]);\n  const [answerList, setAnswerList] = useState(\n    props.problem.trackOptions\n      .map((track, idx) => {\n        return { id: idx, content: track, status: \"notChosen\", type: \"track\" };\n      })\n      .concat(\n        props.problem.artistOptions.map((artist, idx) => {\n          return {\n            id: idx + numChoice,\n            content: artist,\n            status: \"notChosen\",\n            type: \"artist\",\n          };\n        })\n      )\n  );\n\n  const chooseAnswer = (id) => {\n    const chosenAnswer = answerList.filter((item) => item.id === id);\n    chosenAnswer[0].status = \"chosen\";\n    setAnswerList(\n      answerList.filter((item) => item.id !== id).concat(chosenAnswer[0])\n    );\n  };\n\n  const unchooseAnswer = (id) => {\n    const chosenAnswer = answerList.filter((item) => item.id === id);\n    chosenAnswer[0].status = \"notChosen\";\n    setAnswerList(\n      answerList.filter((item) => item.id !== id).concat(chosenAnswer[0])\n    );\n  };\n\n  const isCorrectAnswer = (track, artist) => {\n    return track === problem.track && artist === problem.artist;\n  };\n\n  return (\n    <CardContext.Provider\n      value={{ chooseAnswer, unchooseAnswer, isCorrectAnswer }}\n    >\n      <div className={`problem-box-${isVisible}`}>\n        <AudioPlayer\n          className=\"audio-player\"\n          videoID={problem.videoID}\n          start={problem.startSeconds}\n          end={problem.endSeconds}\n        />\n        <SourceBoard\n          cards={answerList.filter((item, idx) => item.status === \"notChosen\")}\n        />\n        <TargetBoard\n          handler={props.handler}\n          cards={answerList.filter((item, idx) => item.status === \"chosen\")}\n        />\n      </div>\n    </CardContext.Provider>\n  );\n};\n\nexport default ProblemBox;\n","import React, { useState, useEffect, createContext } from \"react\";\nimport Header from \"../components/Header\";\nimport ProblemBox from \"../components/ProblemBox\";\n\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport { Redirect } from \"react-router\";\n\nconst API_URI = \"https://musicquiz.peeraurum.com/api/problems\";\n\nclass QuizTakingPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.category = this.props.location.state.category;\n    this.incrementProblemIdx = this.incrementProblemIdx.bind(this);\n    this.incrementScore = this.incrementScore.bind(this);\n  }\n\n  state = {\n    category: \"\",\n    redirect: false,\n    score: 0,\n    problemIdx: 0,\n    problems: [],\n  };\n\n  async fetchMusicProblems() {\n    const response = await fetch(API_URI);\n    let problems = await response.json();\n\n    problems = this.generateMultipleChoice(problems);\n    this.setState({ problems }, () => {\n      // console.log(this.state.problems);\n    });\n  }\n\n  incrementProblemIdx() {\n    this.setState((state) => ({\n      problemIdx: state.problemIdx + 1,\n    }));\n  }\n\n  incrementScore() {\n    this.setState((state) => ({\n      score: state.score + 1,\n    }));\n  }\n\n  isEnd() {\n    return this.state.problemIdx === this.state.problems.length;\n  }\n\n  generateMultipleChoice(problems) {\n    const tracks = problems.map((problem) => problem.track);\n    const artists = problems.map((problem) => problem.artist);\n    const withMultipleChoice = problems.map((problem, idx, problems) => {\n      // 정답 (track, artist) 1 pair\n      // 오답 track 2개, artist 2개\n      const numberOfChoice = 2;\n      let trackPool = problems\n        .filter((p) => p.id !== problem.id)\n        .map((p) => p.track);\n      let trackOptions = trackPool\n        .sort(() => 0.5 - Math.random())\n        .slice(0, numberOfChoice);\n      trackOptions.push(problem.track);\n\n      let artistPool = problems\n        .filter((p) => p.id !== problem.id)\n        .map((p) => p.artist);\n      let artistOptions = artistPool\n        .sort(() => 0.5 - Math.random())\n        .slice(0, numberOfChoice);\n      artistOptions.push(problem.artist);\n\n      return { ...problem, trackOptions, artistOptions };\n    });\n    return withMultipleChoice;\n  }\n\n  componentDidMount() {\n    this.fetchMusicProblems();\n  }\n\n  componentDidUpdate() {\n    if (this.isEnd()) {\n      this.setState({\n        redirect: true,\n      });\n    }\n  }\n\n  render() {\n    return this.state.redirect ? (\n      <Redirect\n        to={{\n          pathname: \"/quizend\",\n          state: {\n            numCorrect: this.state.score,\n            numTotal: this.state.problems.length,\n          },\n        }}\n      />\n    ) : (\n      <DndProvider backend={HTML5Backend}>\n        <div className=\"wrapper\">\n          <Header />\n          <section className=\"container\">\n            <h1>Here comes the Quiz</h1>\n            <h3>Category: {this.state.category}</h3>\n            <h4>\n              Score: {this.state.score}/{this.state.problemIdx}\n            </h4>\n            {this.state.problems.map((problem, idx) => {\n              return (\n                <ProblemBox\n                  problem={problem}\n                  handler={{\n                    incrementProblemIdx: this.incrementProblemIdx,\n                    incrementScore: this.incrementScore,\n                  }}\n                  isVisible={\n                    idx === this.state.problemIdx ? \"visible\" : \"invisible\"\n                  }\n                  key={idx}\n                />\n              );\n            })}\n          </section>\n        </div>\n      </DndProvider>\n    );\n  }\n}\n\nexport default QuizTakingPage;\n","import React from \"react\";\nimport Header from \"../components/Header\";\nimport { Link } from \"react-router-dom\";\n\nclass QuizEndPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.numCorrect = this.props.location.state.numCorrect;\n    this.state.numTotal = this.props.location.state.numTotal;\n  }\n\n  state = {\n    numCorrect: 0,\n    numTotal: 0,\n  };\n\n  render() {\n    return (\n      <div className=\"wrapper\">\n        <Header />\n        <section className=\"container\">\n          <h1>Thank you for taking quiz! visit agian!!</h1>\n          <h3>\n            Your Score: {this.state.numCorrect} / {this.state.numTotal}\n          </h3>\n          <Link to={{ pathname: \"/\" }}>\n            <button>\n              <p>Back to Home</p>\n            </button>\n          </Link>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default QuizEndPage;\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\n\nimport MainPage from \"../pages/index\";\nimport NotFoundPage from \"../pages/404\";\nimport QuizTakingPage from \"../pages/quizTakingPage\";\nimport \"../App.css\";\nimport QuizEndPage from \"../pages/quizEnd\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"App consturcted\");\n  }\n\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={MainPage} />\n          <Route exact path=\"/404\" component={NotFoundPage} />\n          <Route exact path=\"/quiz\" component={QuizTakingPage} />\n          <Route exact path=\"/quizend\" component={QuizEndPage} />\n          <Redirect to=\"/404\" />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}